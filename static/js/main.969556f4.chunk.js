(this["webpackJsonppawsure-dog-products"]=this["webpackJsonppawsure-dog-products"]||[]).push([[0],{100:function(e,t,a){e.exports={Home:"Home_Home__2by4c"}},101:function(e,t,a){e.exports={BootstrapCarousel:"BootstrapCarousel_BootstrapCarousel__r5Hb0"}},102:function(e,t,a){},105:function(e,t,a){e.exports={Favorites:"Favorites_Favorites__3_rnd"}},111:function(e,t,a){},113:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(45),s=a.n(n),i=(a(111),a(2)),o=a.n(i),u=a(6),d=a(36),j=a(4),l=a(11),b=(a(113),a(114),a(33)),p=a(64),O=a.n(p),m=a(95),f=a.n(m),x=a(91);a(128);x.a.initializeApp({apiKey:"AIzaSyA_bqbDQhB0ceZROkSX76of-5HQxqOiTyI",authDomain:"pawsure-firestore.firebaseapp.com",projectId:"pawsure-firestore",storageBucket:"pawsure-firestore.appspot.com",messagingSenderId:"67440175363",appId:"1:67440175363:web:a2114a2ba90cc99ee86136"});var h=x.a.firestore(),_=function(e){return Object(j.a)({id:e.id},e.data())},v=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.collection("cartItems"),e.next=3,t.get();case 3:return a=e.sent,e.abrupt("return",a.docs.map(_));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.collection("cartItems"),c=a.doc(),e.next=4,c.set(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){switch(t.type){case"ADD_TO_CART":return y(Object(j.a)(Object(j.a)({},t.payload),{},{qty:1}));case"REMOVE_FROM_CART":return Object(j.a)(Object(j.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id}))});case"INCREASE_CART_QUANTITY":return Object(j.a)(Object(j.a)({},e),{},{cart:e.cart.filter((function(e){return e.id===t.payload.id?e.qty=e.qty+1:e.qty}))});case"DECREASE_CART_QUANTITY":return Object(j.a)(Object(j.a)({},e),{},{cart:e.cart.filter((function(e){return e.id===t.payload.id?e.qty=e.qty-1:e.qty}))});default:return e}},N=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.collection("products"),e.next=3,t.get();case 3:return a=e.sent,e.abrupt("return",a.docs.map(C));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return Object(j.a)({id:e.id},e.data())},k=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.collection("products"),c=a.doc(t),e.next=4,c.get();case 4:return r=e.sent,e.abrupt("return",C(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=h.collection("products"),r=c.doc(t),e.next=4,r.update(a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=a(1),I=Object(c.createContext)(),T=function(e){var t=e.children,a=Object(c.useState)(""),r=Object(l.a)(a,2),n=r[0],s=r[1],i=Object(c.useReducer)(g,{products:[],cart:[]}),d=Object(l.a)(i,2),j=d[0],b=d[1],p=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("propProds inside CONTEXT has been trigggered1"),console.log("state.products inside CONTEXT",j.products),e.next=4,N();case 4:t=e.sent,j.products=t,console.log("state.products inside CONTEXT-2",j.products);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,j.cart=t;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){p(),O()}),[]);var m={search:n,setSearch:s,state:j,dispatch:b,populateProducts:p,populateCart:O};return Object(w.jsx)(I.Provider,{value:m,children:t})},A=function(){return Object(c.useContext)(I)},F=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useContext)(I).setSearch;return Object(w.jsx)("div",{className:f.a.SearchBar,children:Object(w.jsxs)("form",{className:"my-2 my-lg-0 d-flex",children:[Object(w.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",value:a,onChange:function(e){r(e.target.value)}}),Object(w.jsx)("button",{className:"btn btn-outline-info my-2 my-sm-0",type:"submit",onClick:function(e){e.preventDefault(),n(a),r("")},children:Object(w.jsx)(b.b,{to:"/products",children:Object(w.jsx)("i",{className:"fas fa-search"})})})]})})},P=a(137),E=a(138),R=a(136),q=function(){return Object(w.jsx)("nav",{className:O.a.Nav,children:Object(w.jsxs)(P.a,{expand:"lg",sticky:"top",className:O.a.Navbar,children:[Object(w.jsx)(b.b,{to:"/",className:O.a.Link,children:Object(w.jsx)(P.a.Brand,{children:"Pawsure"})}),Object(w.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsxs)(P.a.Collapse,{id:"basic-navbar-nav",children:[Object(w.jsxs)(E.a,{className:"mr-auto",children:[Object(w.jsxs)(R.a,{title:"Products",id:"basic-nav-dropdown",children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(b.b,{to:"/products",className:O.a.Link,children:"Dog treats"})}),Object(w.jsx)(R.a.Divider,{}),Object(w.jsx)(b.b,{to:"/favorites",className:O.a.Link,children:Object(w.jsx)(R.a.Item,{children:"Favorite Items"})})]}),Object(w.jsx)(E.a.Link,{children:"Contact Us"}),Object(w.jsx)(E.a.Link,{children:"About Us"})]}),Object(w.jsx)(F,{})]})]})})},D=a(72),H=a.n(D),z=a(46),L=function(e){e.countCartItems;var t=A().state.cart;return Object(w.jsx)(z.a,{children:Object(w.jsxs)("div",{className:H.a.Header,children:[Object(w.jsx)(b.b,{to:"/",children:Object(w.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/pawsure-firestore.appspot.com/o/images%2Fpawsure_logo.jpeg?alt=media&token=43254094-2228-44e1-9bfb-10acb024d882",alt:"Pawsure company logo",className:H.a.Header__img})}),Object(w.jsx)("div",{className:H.a.Header__Navigation,children:Object(w.jsx)(q,{})}),Object(w.jsx)("div",{className:H.a.Header__cartDiv,children:Object(w.jsxs)(b.b,{to:"/cart",children:[Object(w.jsx)("i",{className:"fas fa-shopping-cart fa-lg text-info"})," ",t.length>0?Object(w.jsx)("button",{className:"badge",children:t.length}):""]})})]})})},B=a(100),Q=a.n(B),M=(a(126),a(88)),Y=a(101),U=a.n(Y),X=function(e){var t=e.products,a=t&&t.filter((function(e){return e.featured}));return Object(w.jsx)(M.a,{className:U.a,children:a&&a.map((function(e,t){return Object(w.jsxs)(M.a.Item,{interval:2500,children:[Object(w.jsx)("img",{className:"d-block w-100",src:e.image,alt:e.productName}),Object(w.jsxs)(M.a.Caption,{children:[Object(w.jsx)("h3",{children:e.productName}),Object(w.jsx)("p",{children:e.type})]})]},t)}))})},$=function(){var e=A().state.products;return Object(w.jsx)("div",{className:Q.a,children:Object(w.jsx)(X,{products:e})})},V=a(102),W=a.n(V),J=a(103),K=a(84),Z=a(35),G=a(83),ee=a(52),te=function(e){var t=e.product,a=e.toggleFavorite,r=Object(c.useState)(null),n=Object(l.a)(r,2),s=(n[0],n[1],A()),i=s.state.cart,o=s.dispatch;return Object(w.jsxs)(ee.a,{className:"text-center mb-3 rounded shadow-sm",style:{width:"18rem"},children:[Object(w.jsx)(ee.a.Img,{variant:"top",src:t.image,style:{height:"12rem"}}),Object(w.jsxs)(ee.a.Body,{children:[Object(w.jsx)(ee.a.Title,{children:t.productName}),Object(w.jsxs)(ee.a.Text,{children:["Size: ",t.size[0]]}),Object(w.jsxs)(ee.a.Text,{children:["Price: $",t.price[0].toFixed(2)]}),Object(w.jsx)(ee.a.Text,{children:Object(w.jsx)(b.b,{to:"/products/".concat(t.id),style:{textDecoration:"none"},children:"More details >"})}),Object(w.jsx)(G.a,{className:"mb-2",type:"checkbox",variant:"outline-info",checked:t.favorite,onClick:function(){return a(t)},children:t.favorite?"Favorited":"Add to Favorites"}),i.some((function(e){return e.id===t.id}))?Object(w.jsx)(Z.a,{variant:"danger",className:"w-100",onClick:function(){o({type:"REMOVE_FROM_CART",payload:t})},children:"Remove from Cart"}):Object(w.jsx)(Z.a,{variant:"primary",size:"md",onClick:function(){o({type:"ADD_TO_CART",payload:t})},className:"w-100",disabled:!t.stock,children:t.stock?"Add To Cart":"Out of Stock"})]})]})},ae=function(e){e.cartItems;var t=e.onAdd,a=(e.onRemove,Object(c.useContext)(I).search),r=A(),n=r.state,s=n.products,i=n.cart,d=r.populateProducts;console.log("products in ProducList.jsx functional component: ",s),console.log("cart in ProducList.jsx functional component: ",i);var j=s.filter((function(e){return e.productName.includes(a)})),l=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={favorite:!t.favorite},e.next=3,S(t.id,a);case 3:d();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(z.a,{className:W.a.ProductList,children:Object(w.jsx)("div",{children:Object(w.jsx)(J.a,{xs:1,md:2,lg:3,className:"mb-4",children:j&&j.map((function(e,a){return Object(w.jsx)(K.a,{className:"d-flex justify-content-around",children:Object(w.jsx)(te,{product:e,onAdd:t,toggleFavorite:l},e.id)},a)}))})})})},ce=ae,re=a(87),ne=a.n(re),se=a(21),ie=a(65),oe=a.n(ie),ue=a(134),de=a(104),je=a(135),le=function(){var e=A(),t=e.state.cart,a=e.dispatch,r=Object(c.useState)(),n=Object(l.a)(r,2),s=n[0],i=n[1],o=Object(c.useState)(),u=Object(l.a)(o,2),d=u[0],j=u[1];return Object(c.useEffect)((function(){i(t.reduce((function(e,t){return e+parseFloat(t.price)*t.qty}),0).toFixed(2)),j(t.reduce((function(e,t){return e+parseInt(t.qty)}),0))}),[t]),Object(w.jsxs)(z.a,{className:"d-flex",children:[Object(w.jsx)("div",{className:oe.a.Cart,children:Object(w.jsx)(ue.a,{children:t.length>0?Object(w.jsx)(w.Fragment,{children:t.map((function(e){return Object(w.jsx)(de.a,{className:oe.a.Cart__cartItem,children:Object(w.jsxs)(J.a,{children:[Object(w.jsx)(K.a,{md:2,className:"my-auto",children:Object(w.jsx)(je.a,{src:e.image,alt:e.productName,fluid:!0,rounded:!0})}),Object(w.jsx)(K.a,{md:2,className:"my-auto",children:Object(w.jsx)("span",{children:e.productName})}),Object(w.jsx)(K.a,{md:2,className:"my-auto",children:Object(w.jsxs)("span",{children:["$",e.price[0].toFixed(2)]})}),Object(w.jsx)(K.a,{md:2,className:"my-auto",children:Object(w.jsxs)("span",{children:["Size: ",e.size[0]]})}),Object(w.jsxs)(K.a,{md:2,className:"my-auto",children:[Object(w.jsxs)("p",{children:["Availble: ",e.stock-e.qty]}),Object(w.jsxs)("p",{children:["Stock: ",e.stock]})]}),Object(w.jsx)(K.a,{md:2,className:"my-auto",children:Object(w.jsxs)("span",{children:[Object(w.jsxs)("p",{children:["Quantity: ",e.qty]}),Object(w.jsxs)("div",{children:[Object(w.jsx)(Z.a,{variant:"secondary",className:"increase mx-1",onClick:function(){return a({type:"INCREASE_CART_QUANTITY",payload:{id:e.id,qty:1}})},children:"+"}),Object(w.jsx)(Z.a,{variant:"secondary",className:"decrease mx-1",onClick:function(){return a({type:"DECREASE_CART_QUANTITY",payload:{id:e.id,qty:1}})},children:"-"})]}),Object(w.jsx)("div",{})]})})]})},e.id)}))}):Object(w.jsx)("span",{style:{padding:10},children:"Cart is Empty"})})}),Object(w.jsxs)("div",{className:oe.a.Summary,children:[Object(w.jsx)("h2",{children:"Cart Summary"}),Object(w.jsxs)("span",{className:"title",children:["Subtotal (",d,") items"]}),Object(w.jsxs)("span",{className:oe.a.Summary__total,children:["Total: $ ",s]}),Object(w.jsx)(Z.a,{className:oe.a.Summary__button,type:"button",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},be=a(93),pe=function(e){e.cartItems;var t=e.onAdd,a=(e.onRemove,Object(se.f)().id),r=Object(c.useState)(null),n=Object(l.a)(r,2),s=n[0],i=n[1],d=Object(c.useState)("small"),b=Object(l.a)(d,2),p=b[0],O=b[1],m=Object(c.useState)(null),f=Object(l.a)(m,2),x=f[0],h=f[1],_=Object(c.useState)(null),y=Object(l.a)(_,2),g=y[0],N=y[1],C=Object(c.useState)(null),I=Object(l.a)(C,2),T=(I[0],I[1]),F=A().state,P=(F.products,F.cart,function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,T(t),console.log("run this first, cartData",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),E=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(a);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(c.useEffect)((function(){E(),P()}),[a]),Object(c.useEffect)((function(){if(g)switch(p){case s.size[0]:h(s.price[0].toFixed(2)),N(Object(j.a)(Object(j.a)({},g),{},{size:p,price:s.price[0]}));break;case s.size[1]:h(s.price[1].toFixed(2)),N(Object(j.a)(Object(j.a)({},g),{},{size:p,price:s.price[1]}));break;case s.size[2]:h(s.price[2].toFixed(2)),N(Object(j.a)(Object(j.a)({},g),{},{size:p,price:s.price[2]}))}}),[p,s]),!s)return Object(w.jsxs)("h2",{children:["Product with Id: ",a," not found."]});var R=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={favorite:!t.favorite},e.next=3,S(t.id,a);case 3:E();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(z.a,{className:ne.a.Product,children:[Object(w.jsx)("img",{src:s.image,alt:s.productName,width:"100%",height:"300px",className:ne.a.Product__img}),Object(w.jsx)("h2",{children:s.productName}),Object(w.jsx)("div",{children:Object(w.jsx)(J.a,{className:"mb-2",children:Object(w.jsxs)(K.a,{className:"d-flex justify-content-center",children:[Object(w.jsx)(be.a.Label,{column:!0,sm:"2",className:"px-3",children:"Size:"}),Object(w.jsx)("div",{className:ne.a.Product__selector,children:Object(w.jsx)(be.a.Select,{"aria-label":"Select size of product",onChange:function(e){e.preventDefault(),O(e.target.value)},children:s.size&&s.size.map((function(e,t){return Object(w.jsx)("option",{value:e,children:e},t)}))})})]})})}),Object(w.jsxs)("p",{children:["Price: $",x]}),Object(w.jsxs)("p",{children:["Type: ",s.productType]}),Object(w.jsxs)("p",{children:["Stock Amount: ",s.stock]}),Object(w.jsx)(G.a,{className:"mb-2",type:"checkbox",variant:"outline-success",checked:s.favorite,onClick:function(){return R(s)},children:s.favorite?"Favorited":"Add to Favorites"}),Object(w.jsx)(Z.a,{variant:"primary",size:"md",onClick:function(){return t(g)},children:"Add To Cart"})]}),Object(w.jsx)(z.a,{})]})},Oe=pe,me=a(105),fe=a.n(me),xe=function(){return Object(w.jsx)("div",{className:fe.a.Favorites,children:Object(w.jsx)("h1",{children:"Favorite Items"})})};var he=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],r=(t[1],Object(c.useState)([])),n=Object(l.a)(r,2),s=n[0],i=n[1],p=function(e){var t=s.find((function(t){return t.id===e.id}));i(t?s.map((function(a){return a.id===e.id?Object(j.a)(Object(j.a)({},t),{},{qty:t.qty+1}):a})):[].concat(Object(d.a)(s),[Object(j.a)(Object(j.a)({},e),{},{qty:1})]))},O=function(e){var t=s.find((function(t){return t.id===e.id}));1===t.qty?i(s.filter((function(t){return t.id!==e.id}))):i(s.map((function(a){return a.id===e.id?Object(j.a)(Object(j.a)({},t),{},{qty:t.qty-1}):a})))},m=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={favorite:!t.favorite},e.next=3,S(t.id,a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(b.a,{children:Object(w.jsxs)(T,{children:[Object(w.jsx)(L,{countCartItems:s.length}),Object(w.jsxs)(se.c,{children:[Object(w.jsx)(se.a,{path:"/cart",children:Object(w.jsx)(le,{})}),Object(w.jsx)(se.a,{path:"/featured",children:Object(w.jsx)(xe,{})}),Object(w.jsx)(se.a,{path:"/products/:id",children:Object(w.jsx)(Oe,{cartItems:s,onAdd:p,onRemove:O,toggleFavorite:m})}),Object(w.jsx)(se.a,{path:"/products",children:Object(w.jsx)(ce,{products:a,cartItems:s,onAdd:p,onRemove:O,toggleFavorite:m})}),Object(w.jsx)(se.a,{path:"/",children:Object(w.jsx)($,{products:a})})]})]})})})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,139)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),r(e),n(e),s(e)}))};s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(he,{})}),document.getElementById("root")),_e()},64:function(e,t,a){e.exports={Nav__ul:"Nav_Nav__ul__IPldB",Link:"Nav_Link__12cg-",Navbar:"Nav_Navbar__2awQT"}},65:function(e,t,a){e.exports={Container:"Cart_Container__2i-bu",Cart:"Cart_Cart__1jN-D",Cart__cartItem:"Cart_Cart__cartItem__QDbgt",Cart__cartItem__img:"Cart_Cart__cartItem__img__3A5vp",Cart__cardItem:"Cart_Cart__cardItem__V-a2X",Summary:"Cart_Summary__2CLMv",Summary__total:"Cart_Summary__total__WLGYS",Summary__button:"Cart_Summary__button__1OLO2"}},72:function(e,t,a){e.exports={Header:"Header_Header__HQIlZ",Header__img:"Header_Header__img__2kc9v",Header__cartDiv:"Header_Header__cartDiv__2YgWk"}},87:function(e,t,a){e.exports={Product:"Product_Product__2BWh0",Product__selector:"Product_Product__selector__3Y3_B",Product__img:"Product_Product__img__2ePDi"}},95:function(e,t,a){e.exports={SearchBar:"Searchbar_SearchBar__3OKv2"}}},[[127,1,2]]]);
//# sourceMappingURL=main.969556f4.chunk.js.map