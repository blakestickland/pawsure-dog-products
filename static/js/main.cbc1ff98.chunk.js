(this["webpackJsonppawsure-dog-products"]=this["webpackJsonppawsure-dog-products"]||[]).push([[0],{100:function(e,t,c){e.exports={Cart:"Cart_Cart__3iCUX"}},102:function(e,t,c){e.exports={Favorites:"Favorites_Favorites__3_rnd"}},109:function(e,t,c){},110:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(45),s=c.n(n),i=(c(109),c(33)),o=c(5),d=c(13),j=(c(110),c(111),c(36)),l=c(62),u=c.n(l),b=c(92),O=c.n(b),x=c(1),h=Object(r.createContext)(),p=function(e){var t=e.children,c=Object(r.useState)(""),a=Object(d.a)(c,2),n=a[0],s=a[1];console.log("COMING FROM SEARCH CONTEXT",n);var i={search:n,setSearch:s};return Object(x.jsx)(h.Provider,{value:i,children:t})},m=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(r.useContext)(h).setSearch;return Object(x.jsx)("div",{className:O.a.SearchBar,children:Object(x.jsxs)("form",{className:"my-2 my-lg-0 d-flex",children:[Object(x.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",value:c,onChange:function(e){a(e.target.value)}}),Object(x.jsx)("button",{className:"btn btn-outline-info my-2 my-sm-0",type:"submit",onClick:function(e){e.preventDefault(),n(c),a("")},children:Object(x.jsx)(j.b,{to:"/products",children:Object(x.jsx)("i",{className:"fas fa-search"})})})]})})},f=c(134),v=c(135),g=c(133),_=function(){return Object(x.jsx)("nav",{className:u.a.Nav,children:Object(x.jsxs)(f.a,{expand:"lg",sticky:"top",className:u.a.Navbar,children:[Object(x.jsx)(j.b,{to:"/",className:u.a.Link,children:Object(x.jsx)(f.a.Brand,{children:"Pawsure"})}),Object(x.jsx)(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsxs)(f.a.Collapse,{id:"basic-navbar-nav",children:[Object(x.jsxs)(v.a,{className:"mr-auto",children:[Object(x.jsxs)(g.a,{title:"Products",id:"basic-nav-dropdown",children:[Object(x.jsx)(g.a.Item,{children:Object(x.jsx)(j.b,{to:"/products",className:u.a.Link,children:"Dog treats"})}),Object(x.jsx)(g.a.Divider,{}),Object(x.jsx)(j.b,{to:"/favorites",className:u.a.Link,children:Object(x.jsx)(g.a.Item,{children:"Favorite Items"})})]}),Object(x.jsx)(v.a.Link,{children:"Contact Us"}),Object(x.jsx)(v.a.Link,{children:"About Us"})]}),Object(x.jsx)(m,{})]})]})})},N=c(70),C=c.n(N),y=c(52),k=function(e){var t=e.countCartItems;return Object(x.jsx)(y.a,{children:Object(x.jsxs)("div",{className:C.a.Header,children:[Object(x.jsx)(j.b,{to:"/",children:Object(x.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/pawsure-firestore.appspot.com/o/images%2Fpawsure_logo.jpeg?alt=media&token=43254094-2228-44e1-9bfb-10acb024d882",alt:"Pawsure company logo",className:C.a.Header__img})}),Object(x.jsx)("div",{className:C.a.Header__Navigation,children:Object(x.jsx)(_,{})}),Object(x.jsxs)("div",{className:C.a.Header__cartDiv,children:[Object(x.jsx)("i",{className:"fas fa-shopping-cart fa-lg text-info"})," ",t?Object(x.jsx)("button",{className:"badge",children:t}):""]})]})})},w=c(97),F=c.n(w),P=(c(122),c(86)),I=c(98),S=c.n(I),H=function(e){var t=e.products,c=t&&t.filter((function(e){return e.featured}));return Object(x.jsx)(P.a,{className:S.a,children:c&&c.map((function(e,t){return Object(x.jsxs)(P.a.Item,{interval:2500,children:[Object(x.jsx)("img",{className:"d-block w-100",src:e.image,alt:e.productName}),Object(x.jsxs)(P.a.Caption,{children:[Object(x.jsx)("h3",{children:e.productName}),Object(x.jsx)("p",{children:e.type})]})]},t)}))})},A=c(2),z=c.n(A),T=c(6),B=c(90);c(127);B.a.initializeApp({apiKey:"AIzaSyA_bqbDQhB0ceZROkSX76of-5HQxqOiTyI",authDomain:"pawsure-firestore.firebaseapp.com",projectId:"pawsure-firestore",storageBucket:"pawsure-firestore.appspot.com",messagingSenderId:"67440175363",appId:"1:67440175363:web:a2114a2ba90cc99ee86136"});var D=B.a.firestore(),L=function(){var e=Object(T.a)(z.a.mark((function e(){var t,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.collection("products"),e.next=3,t.get();case 3:return c=e.sent,e.abrupt("return",c.docs.map(q));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){return Object(o.a)({id:e.id},e.data())},R=function(){var e=Object(T.a)(z.a.mark((function e(t,c){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.collection("products"),a=r.doc(t),e.next=4,a.update(c);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),E=Object(r.createContext)(),$=function(e){var t=e.children,c=Object(r.useState)([]),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)({people:"Hello"}),o=Object(d.a)(i,2),j=o[0],l=o[1],u=function(){var e=Object(T.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,console.log("this is second"),s(t),console.log("3rd populateProducts data, called in ProductsContext.js: ",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){console.log("this is first"),u(),l({people:"Goodbye"})}),[]);var b=function(){var e=Object(T.a)(z.a.mark((function e(t){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={favorite:!t.favorite},e.next=3,R(t.id,c);case 3:u();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(E.Provider,{value:{products:n,test:j,toggleFavorite:b},children:t})},M=function(){var e=Object(r.useContext)(E).products;return Object(x.jsx)("div",{className:F.a,children:Object(x.jsx)(H,{products:e})})},Q=c(99),G=c.n(Q),U=c(101),X=c(83),J=(c(125),c(43)),K=c(82),W=c(51),Y=function(e){var t=e.product,c=e.onAdd,r=e.toggleFavorite;return Object(x.jsxs)(W.a,{className:"text-center mb-3 rounded shadow-sm",style:{width:"18rem"},children:[Object(x.jsx)(W.a.Img,{variant:"top",src:t.image,style:{height:"12rem"}}),Object(x.jsxs)(W.a.Body,{children:[Object(x.jsx)(W.a.Title,{children:t.productName}),Object(x.jsxs)(W.a.Text,{children:["Size: ",t.size[0]]}),Object(x.jsxs)(W.a.Text,{children:["Price: $",t.price[0].toFixed(2)]}),Object(x.jsx)(W.a.Text,{children:Object(x.jsx)(j.b,{to:"/products/".concat(t.id),style:{textDecoration:"none"},children:"More details >"})}),Object(x.jsx)(K.a,{className:"mb-2",type:"checkbox",variant:"outline-info",checked:t.favorite,onClick:function(){return r(t)},children:t.favorite?"Favorited":"Add to Favorites"}),Object(x.jsx)(J.a,{variant:"primary",size:"md",onClick:function(){return c(t)},className:"w-100",children:"Add To Cart"})]})]})},Z=c(100),V=c.n(Z),ee=function(e){var t=e.cartItems,c=e.onAdd,r=e.onRemove;console.log("cartItems before:",t);var a=t.reduce((function(e,t){return e+t.price*t.qty}),0),n=.1*a,s=a>2e3?0:50,i=a+n+s;return Object(x.jsxs)("div",{className:V.a.Cart,children:[Object(x.jsx)("h2",{children:"Cart Items"}),Object(x.jsx)(x.Fragment,{children:0===t.length&&Object(x.jsx)("p",{children:"Cart is empty"})}),t.map((function(e){return Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("p",{children:e.productName}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){return c(e)},className:"add",children:"+"}),Object(x.jsx)("button",{onClick:function(){return r(e)},className:"add",children:"-"})]}),Object(x.jsxs)("div",{children:[e.qty," x $",e.price.toFixed(2)]})]},e.id)})),0!==t.length&&Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Items Price"}),Object(x.jsxs)("div",{children:["$",a.toFixed(2)]})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"GST"}),Object(x.jsxs)("div",{children:["$",n.toFixed(2)]})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Shipping Price"}),Object(x.jsxs)("div",{children:["$",s.toFixed(2)]})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("strong",{children:"Total Price"})}),Object(x.jsx)("div",{children:Object(x.jsxs)("strong",{children:["$",i.toFixed(2)]})})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)(J.a,{onClick:function(){return alert("Implement Checkout")},children:"Checkout"})})]})]})},te=function(e){var t=e.cartItems,c=e.onAdd,a=e.onRemove,n=Object(r.useContext)(E),s=n.products,i=n.toggleFavorite,o=Object(r.useContext)(h).search,d=s.filter((function(e){return e.productName.includes(o)}));return Object(r.useEffect)((function(){console.log("cartItems from ProductList page: ",t)}),[t]),Object(x.jsx)(y.a,{className:G.a.ProductList,children:Object(x.jsxs)("div",{children:[Object(x.jsx)(U.a,{xs:1,md:2,lg:3,className:"mb-4",children:s&&d&&d.map((function(e,t){return Object(x.jsx)(X.a,{className:"d-flex justify-content-around",children:Object(x.jsx)(Y,{product:e,onAdd:c,toggleFavorite:i},e.id)},t)}))}),Object(x.jsx)(ee,{cartItems:t,onAdd:c,onRemove:a})]})})},ce=c(85),re=c.n(ce),ae=c(20),ne=c(91),se=function(e){var t=e.cartItems,c=e.onAdd,a=e.onRemove,n=Object(ae.f)().id,s=Object(r.useState)(null),i=Object(d.a)(s,2),j=i[0],l=i[1],u=Object(r.useState)("small"),b=Object(d.a)(u,2),O=b[0],h=b[1],p=Object(r.useState)(null),m=Object(d.a)(p,2),f=m[0],v=m[1],g=Object(r.useState)(null),_=Object(d.a)(g,2),N=_[0],C=_[1],k=Object(r.useContext)(E),w=k.products,F=(k.setProducts,k.toggleFavorite),P=w.find((function(e){return e.id===n}));console.log("productContext: ",w,n,P),Object(r.useEffect)((function(){j&&(C(Object(o.a)(Object(o.a)({},j),{},{size:j.size[0],price:j.price[0]})),v(j.price[0].toFixed(2)))}),[j]);if(Object(r.useEffect)((function(){l(P)}),[n,w]),Object(r.useEffect)((function(){if(N)switch(O){case j.size[0]:v(j.price[0].toFixed(2)),C(Object(o.a)(Object(o.a)({},N),{},{size:O,price:j.price[0]}));break;case j.size[1]:v(j.price[1].toFixed(2)),C(Object(o.a)(Object(o.a)({},N),{},{size:O,price:j.price[1]}));break;case j.size[2]:v(j.price[2].toFixed(2)),C(Object(o.a)(Object(o.a)({},N),{},{size:O,price:j.price[2]}))}}),[O,j]),!j)return Object(x.jsxs)("h2",{children:["Product with Id: ",n," not found."]});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(y.a,{className:re.a.Product,children:[Object(x.jsx)("img",{src:j.image,alt:j.productName,width:"100%",height:"300px",className:re.a.Product__img}),Object(x.jsx)("h2",{children:j.productName}),Object(x.jsx)("div",{children:Object(x.jsx)(U.a,{className:"mb-2",children:Object(x.jsxs)(X.a,{className:"d-flex justify-content-center",children:[Object(x.jsx)(ne.a.Label,{column:!0,sm:"2",className:"px-3",children:"Size:"}),Object(x.jsx)("div",{className:re.a.Product__selector,children:Object(x.jsx)(ne.a.Select,{"aria-label":"Select size of product",onChange:function(e){e.preventDefault(),h(e.target.value)},children:j.size&&j.size.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))})})]})})}),Object(x.jsxs)("p",{children:["Price: $",f]}),Object(x.jsxs)("p",{children:["Type: ",j.productType]}),Object(x.jsxs)("p",{children:["Stock Amount: ",j.stock]}),Object(x.jsx)(K.a,{className:"mb-2",type:"checkbox",variant:"outline-success",checked:j.favorite,onClick:function(){return F(j)},children:j.favorite?"Favorited":"Add to Favorites"}),Object(x.jsx)(J.a,{variant:"primary",size:"md",onClick:function(){return c(N)},children:"Add To Cart"})]}),Object(x.jsx)(y.a,{children:Object(x.jsx)(ee,{cartItems:t,onAdd:c,onRemove:a})})]})},ie=c(102),oe=c.n(ie),de=function(){return Object(x.jsx)("div",{className:oe.a.Favorites,children:Object(x.jsx)("h1",{children:"Favorite Items"})})};var je=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=function(e){var t=c.find((function(t){return t.id===e.id}));a(t?c.map((function(c){return c.id===e.id?Object(o.a)(Object(o.a)({},t),{},{qty:t.qty+1}):c})):[].concat(Object(i.a)(c),[Object(o.a)(Object(o.a)({},e),{},{qty:1})]))},s=function(e){var t=c.find((function(t){return t.id===e.id}));1===t.qty?a(c.filter((function(t){return t.id!==e.id}))):a(c.map((function(c){return c.id===e.id?Object(o.a)(Object(o.a)({},t),{},{qty:t.qty-1}):c})))};return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(j.a,{children:Object(x.jsx)($,{children:Object(x.jsxs)(p,{children:[Object(x.jsx)(k,{countCartItems:c.length}),Object(x.jsxs)(ae.c,{children:[Object(x.jsx)(ae.a,{path:"/featured",children:Object(x.jsx)(de,{})}),Object(x.jsx)(ae.a,{path:"/products/:id",children:Object(x.jsx)(se,{cartItems:c,onAdd:n,onRemove:s})}),Object(x.jsx)(ae.a,{path:"/products",children:Object(x.jsx)(te,{cartItems:c,onAdd:n,onRemove:s})}),Object(x.jsx)(ae.a,{path:"/",children:Object(x.jsx)(M,{})})]})]})})})})},le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,136)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(je,{})}),document.getElementById("root")),le()},62:function(e,t,c){e.exports={Nav__ul:"Nav_Nav__ul__IPldB",Link:"Nav_Link__12cg-",Navbar:"Nav_Navbar__2awQT"}},70:function(e,t,c){e.exports={Header:"Header_Header__HQIlZ",Header__img:"Header_Header__img__2kc9v",Header__cartDiv:"Header_Header__cartDiv__2YgWk"}},85:function(e,t,c){e.exports={Product:"Product_Product__2BWh0",Product__selector:"Product_Product__selector__3Y3_B",Product__img:"Product_Product__img__2ePDi"}},92:function(e,t,c){e.exports={SearchBar:"Searchbar_SearchBar__3OKv2"}},97:function(e,t,c){e.exports={Home:"Home_Home__2by4c"}},98:function(e,t,c){e.exports={BootstrapCarousel:"BootstrapCarousel_BootstrapCarousel__r5Hb0"}},99:function(e,t,c){}},[[126,1,2]]]);
//# sourceMappingURL=main.cbc1ff98.chunk.js.map